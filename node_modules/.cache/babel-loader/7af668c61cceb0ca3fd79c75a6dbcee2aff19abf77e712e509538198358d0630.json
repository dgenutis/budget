{"ast":null,"code":"export const waait = () => new Promise(res => setTimeout(res, Math.random() * 800));\nconst generateRandomColor = () => {\n  var _fetchData$length, _fetchData;\n  const existingBudgetLength = (_fetchData$length = (_fetchData = fetchData(\"budgets\")) === null || _fetchData === void 0 ? void 0 : _fetchData.length) !== null && _fetchData$length !== void 0 ? _fetchData$length : 0;\n  return `${existingBudgetLength * 34} 65% 50%`;\n};\n\n// Local storage\nexport const fetchData = key => {\n  return JSON.parse(localStorage.getItem(key));\n};\n\n// Get all items from local storage\nexport const getAllMatchingItems = ({\n  category,\n  key,\n  value\n}) => {\n  var _fetchData2;\n  const data = (_fetchData2 = fetchData(category)) !== null && _fetchData2 !== void 0 ? _fetchData2 : [];\n  return data.filter(item => item[key] === value);\n};\n\n// delete item from local storage\nexport const deleteItem = ({\n  key,\n  id\n}) => {\n  const existingData = fetchData(key);\n  if (id) {\n    const newData = existingData.filter(item => item.id !== id);\n    return localStorage.setItem(key, JSON.stringify(newData));\n  }\n  return localStorage.removeItem(key);\n};\n\n// create budget\nexport const createBudget = ({\n  name,\n  amount\n}) => {\n  var _fetchData3;\n  const newItem = {\n    id: crypto.randomUUID(),\n    name: name,\n    createdAt: Date.now(),\n    amount: +amount,\n    color: generateRandomColor()\n  };\n  const existingBudgets = (_fetchData3 = fetchData(\"budgets\")) !== null && _fetchData3 !== void 0 ? _fetchData3 : [];\n  return localStorage.setItem(\"budgets\", JSON.stringify([...existingBudgets, newItem]));\n};\n\n// create expense\nexport const createExpense = ({\n  name,\n  amount,\n  budgetId\n}) => {\n  var _fetchData4;\n  const newItem = {\n    id: crypto.randomUUID(),\n    name: name,\n    createdAt: Date.now(),\n    amount: +amount,\n    budgetId: budgetId\n  };\n  const existingExpenses = (_fetchData4 = fetchData(\"expenses\")) !== null && _fetchData4 !== void 0 ? _fetchData4 : [];\n  return localStorage.setItem(\"expenses\", JSON.stringify([...existingExpenses, newItem]));\n};\n\n// total spent by budget\nexport const calculateSpentByBudget = budgetId => {\n  var _fetchData5;\n  const expenses = (_fetchData5 = fetchData(\"expenses\")) !== null && _fetchData5 !== void 0 ? _fetchData5 : [];\n  const budgetSpent = expenses.reduce((acc, expense) => {\n    // check if expense.id === budgetId I passed in\n    if (expense.budgetId !== budgetId) return acc;\n\n    // add the current amount to my total\n    return acc += expense.amount;\n  }, 0);\n  return budgetSpent;\n};\n\n// FORMATTING\nexport const formatDateToLocaleString = epoch => new Date(epoch).toLocaleDateString();\n\n// Formating percentages\nexport const formatPercentage = amt => {\n  return amt.toLocaleString(undefined, {\n    style: \"percent\",\n    minimumFractionDigits: 0\n  });\n};\n\n// Format currency\nexport const formatCurrency = amt => {\n  return amt.toLocaleString(undefined, {\n    style: \"currency\",\n    currency: \"EUR\"\n  });\n};","map":{"version":3,"names":["waait","Promise","res","setTimeout","Math","random","generateRandomColor","_fetchData$length","_fetchData","existingBudgetLength","fetchData","length","key","JSON","parse","localStorage","getItem","getAllMatchingItems","category","value","_fetchData2","data","filter","item","deleteItem","id","existingData","newData","setItem","stringify","removeItem","createBudget","name","amount","_fetchData3","newItem","crypto","randomUUID","createdAt","Date","now","color","existingBudgets","createExpense","budgetId","_fetchData4","existingExpenses","calculateSpentByBudget","_fetchData5","expenses","budgetSpent","reduce","acc","expense","formatDateToLocaleString","epoch","toLocaleDateString","formatPercentage","amt","toLocaleString","undefined","style","minimumFractionDigits","formatCurrency","currency"],"sources":["D:/PROGRAMING/js_kursai/REACT/budget/src/helpers.js"],"sourcesContent":["export const waait = () => new Promise((res) => setTimeout(res, Math.random() * 800))\n\nconst generateRandomColor = () => {\n    const existingBudgetLength = fetchData(\"budgets\")?.length ?? 0;\n    return `${existingBudgetLength * 34} 65% 50%`\n}\n  \n// Local storage\nexport const fetchData = (key) => {\n    return JSON.parse(localStorage.getItem(key));\n};\n\n// Get all items from local storage\nexport const getAllMatchingItems = ({ category, key, value }) => {\n    const data = fetchData(category) ?? [];\n    return data.filter((item) => item[key] === value);\n};\n  \n// delete item from local storage\nexport const deleteItem = ({ key, id }) => {\n    const existingData = fetchData(key);\n    if (id) {\n      const newData = existingData.filter((item) => item.id !== id);\n      return localStorage.setItem(key, JSON.stringify(newData));\n    }\n    return localStorage.removeItem(key);\n};\n\n// create budget\nexport const createBudget = ({\n    name, amount\n}) => {\n    const newItem = {\n        id: crypto.randomUUID(),\n        name: name,\n        createdAt: Date.now(),\n        amount: +amount,\n        color: generateRandomColor()\n    }\n    const existingBudgets = fetchData(\"budgets\") ?? [];\n        return localStorage.setItem(\"budgets\",\n        JSON.stringify([...existingBudgets, newItem]))\n}\n\n// create expense\nexport const createExpense = ({\n    name, amount, budgetId\n  }) => {\n    const newItem = {\n      id: crypto.randomUUID(),\n      name: name,\n      createdAt: Date.now(),\n      amount: +amount,\n      budgetId: budgetId\n    }\n    const existingExpenses = fetchData(\"expenses\") ?? [];\n    return localStorage.setItem(\"expenses\",\n      JSON.stringify([...existingExpenses, newItem]))\n}\n\n// total spent by budget\nexport const calculateSpentByBudget = (budgetId) => {\n    const expenses = fetchData(\"expenses\") ?? [];\n    const budgetSpent = expenses.reduce((acc, expense) => {\n      // check if expense.id === budgetId I passed in\n      if (expense.budgetId !== budgetId) return acc\n  \n      // add the current amount to my total\n      return acc += expense.amount\n    }, 0)\n    return budgetSpent;\n}\n  \n// FORMATTING\nexport const formatDateToLocaleString = (epoch) => new Date(epoch).toLocaleDateString();\n\n// Formating percentages\nexport const formatPercentage = (amt) => {\n    return amt.toLocaleString(undefined, {\n      style: \"percent\",\n      minimumFractionDigits: 0,\n    })\n}\n  \n// Format currency\nexport const formatCurrency = (amt) => {\n    return amt.toLocaleString(undefined, {\n      style: \"currency\",\n      currency: \"EUR\"\n    })\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}