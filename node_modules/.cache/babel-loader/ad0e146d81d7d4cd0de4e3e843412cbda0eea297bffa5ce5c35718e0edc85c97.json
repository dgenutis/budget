{"ast":null,"code":"import{useLoaderData}from\"react-router-dom\";import{toast}from\"react-toastify\";import Table from\"../components/Table\";import{deleteItem,fetchData}from\"../helpers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function expensesLoader(){const expenses=fetchData(\"expenses\");return{expenses};}// action\nexport async function expensesAction(_ref){let{request}=_ref;const data=await request.formData();const{_action,...values}=Object.fromEntries(data);if(_action===\"deleteExpense\"){try{deleteItem({key:\"expenses\",id:values.expenseId});return toast.success(\"Expense deleted!\");}catch(e){throw new Error(\"There was a problem deleting your expense.\");}}}const ExpensesPage=()=>{const{expenses}=useLoaderData();return/*#__PURE__*/_jsxs(\"div\",{className:\"grid-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All Expenses\"}),expenses&&expenses.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"grid-md\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Recent Expenses \",/*#__PURE__*/_jsxs(\"small\",{children:[\"(\",expenses.length,\" total)\"]})]}),/*#__PURE__*/_jsx(Table,{expenses:expenses})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No Expenses to show\"})]});};export default ExpensesPage;","map":{"version":3,"names":["useLoaderData","toast","Table","deleteItem","fetchData","jsx","_jsx","jsxs","_jsxs","expensesLoader","expenses","expensesAction","_ref","request","data","formData","_action","values","Object","fromEntries","key","id","expenseId","success","e","Error","ExpensesPage","className","children","length"],"sources":["D:/PROGRAMING/js_kursai/REACT/budget/src/pages/ExpensesPage.js"],"sourcesContent":["import { useLoaderData } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport Table from \"../components/Table\";\nimport { deleteItem, fetchData } from \"../helpers\";\n\nexport function expensesLoader() {\n  const expenses = fetchData(\"expenses\");\n  return { expenses };\n}\n\n// action\nexport async function expensesAction({ request }) {\n    const data = await request.formData();\n    const { _action, ...values } = Object.fromEntries(data);\n  \n    if (_action === \"deleteExpense\") {\n      try {\n        deleteItem({\n          key: \"expenses\",\n          id: values.expenseId,\n        });\n        return toast.success(\"Expense deleted!\");\n      } catch (e) {\n        throw new Error(\"There was a problem deleting your expense.\");\n      }\n    }\n}\n\nconst ExpensesPage = () => {\n  const { expenses } = useLoaderData();\n\n  return (\n    <div className=\"grid-lg\">\n      <h1>All Expenses</h1>\n      {expenses && expenses.length > 0 ? (\n        <div className=\"grid-md\">\n          <h2>Recent Expenses <small>({expenses.length} total)</small></h2>\n          <Table expenses={expenses} />\n        </div>\n      ) : (\n        <p>No Expenses to show</p>\n      )}\n    </div>\n  );\n};\n\nexport default ExpensesPage;\n\n"],"mappings":"AAAA,OAASA,aAAa,KAAQ,kBAAkB,CAChD,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,OAASC,UAAU,CAAEC,SAAS,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,MAAO,SAAS,CAAAC,cAAcA,CAAA,CAAG,CAC/B,KAAM,CAAAC,QAAQ,CAAGN,SAAS,CAAC,UAAU,CAAC,CACtC,MAAO,CAAEM,QAAS,CAAC,CACrB,CAEA;AACA,MAAO,eAAe,CAAAC,cAAcA,CAAAC,IAAA,CAAc,IAAb,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC5C,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAD,OAAO,CAACE,QAAQ,CAAC,CAAC,CACrC,KAAM,CAAEC,OAAO,CAAE,GAAGC,MAAO,CAAC,CAAGC,MAAM,CAACC,WAAW,CAACL,IAAI,CAAC,CAEvD,GAAIE,OAAO,GAAK,eAAe,CAAE,CAC/B,GAAI,CACFb,UAAU,CAAC,CACTiB,GAAG,CAAE,UAAU,CACfC,EAAE,CAAEJ,MAAM,CAACK,SACb,CAAC,CAAC,CACF,MAAO,CAAArB,KAAK,CAACsB,OAAO,CAAC,kBAAkB,CAAC,CAC1C,CAAE,MAAOC,CAAC,CAAE,CACV,KAAM,IAAI,CAAAC,KAAK,CAAC,4CAA4C,CAAC,CAC/D,CACF,CACJ,CAEA,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEhB,QAAS,CAAC,CAAGV,aAAa,CAAC,CAAC,CAEpC,mBACEQ,KAAA,QAAKmB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBtB,IAAA,OAAAsB,QAAA,CAAI,cAAY,CAAI,CAAC,CACpBlB,QAAQ,EAAIA,QAAQ,CAACmB,MAAM,CAAG,CAAC,cAC9BrB,KAAA,QAAKmB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBpB,KAAA,OAAAoB,QAAA,EAAI,kBAAgB,cAAApB,KAAA,UAAAoB,QAAA,EAAO,GAAC,CAAClB,QAAQ,CAACmB,MAAM,CAAC,SAAO,EAAO,CAAC,EAAI,CAAC,cACjEvB,IAAA,CAACJ,KAAK,EAACQ,QAAQ,CAAEA,QAAS,CAAE,CAAC,EAC1B,CAAC,cAENJ,IAAA,MAAAsB,QAAA,CAAG,qBAAmB,CAAG,CAC1B,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAF,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}