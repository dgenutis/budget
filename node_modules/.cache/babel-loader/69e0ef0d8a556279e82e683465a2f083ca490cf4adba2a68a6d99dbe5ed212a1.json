{"ast":null,"code":"export const waait=()=>new Promise(res=>setTimeout(res,Math.random()*800));const generateRandomColor=()=>{var _fetchData$length,_fetchData;const existingBudgetLength=(_fetchData$length=(_fetchData=fetchData(\"budgets\"))===null||_fetchData===void 0?void 0:_fetchData.length)!==null&&_fetchData$length!==void 0?_fetchData$length:0;return\"\".concat(existingBudgetLength*34,\" 65% 50%\");};// Local storage\nexport const fetchData=key=>{return JSON.parse(localStorage.getItem(key));};// Get all items from local storage\nexport const getAllMatchingItems=_ref=>{var _fetchData2;let{category,key,value}=_ref;const data=(_fetchData2=fetchData(category))!==null&&_fetchData2!==void 0?_fetchData2:[];return data.filter(item=>item[key]===value);};// delete item from local storage\nexport const deleteItem=_ref2=>{let{key,id}=_ref2;const existingData=fetchData(key);if(id){const newData=existingData.filter(item=>item.id!==id);return localStorage.setItem(key,JSON.stringify(newData));}return localStorage.removeItem(key);};// create budget\nexport const createBudget=_ref3=>{var _fetchData3;let{name,amount}=_ref3;const newItem={id:crypto.randomUUID(),name:name,createdAt:Date.now(),amount:+amount,color:generateRandomColor()};const existingBudgets=(_fetchData3=fetchData(\"budgets\"))!==null&&_fetchData3!==void 0?_fetchData3:[];return localStorage.setItem(\"budgets\",JSON.stringify([...existingBudgets,newItem]));};// create expense\nexport const createExpense=_ref4=>{var _fetchData4;let{name,amount,budgetId}=_ref4;const newItem={id:crypto.randomUUID(),name:name,createdAt:Date.now(),amount:+amount,budgetId:budgetId};const existingExpenses=(_fetchData4=fetchData(\"expenses\"))!==null&&_fetchData4!==void 0?_fetchData4:[];return localStorage.setItem(\"expenses\",JSON.stringify([...existingExpenses,newItem]));};// total spent by budget\nexport const calculateSpentByBudget=budgetId=>{var _fetchData5;const expenses=(_fetchData5=fetchData(\"expenses\"))!==null&&_fetchData5!==void 0?_fetchData5:[];const budgetSpent=expenses.reduce((acc,expense)=>{// check if expense.id === budgetId I passed in\nif(expense.budgetId!==budgetId)return acc;// add the current amount to my total\nreturn acc+=expense.amount;},0);return budgetSpent;};// FORMATTING\nexport const formatDateToLocaleString=epoch=>new Date(epoch).toLocaleDateString();// Formating percentages\nexport const formatPercentage=amt=>{return amt.toLocaleString(undefined,{style:\"percent\",minimumFractionDigits:0});};// Format currency\nexport const formatCurrency=amt=>{return amt.toLocaleString(undefined,{style:\"currency\",currency:\"EUR\"});};","map":{"version":3,"names":["waait","Promise","res","setTimeout","Math","random","generateRandomColor","_fetchData$length","_fetchData","existingBudgetLength","fetchData","length","concat","key","JSON","parse","localStorage","getItem","getAllMatchingItems","_ref","_fetchData2","category","value","data","filter","item","deleteItem","_ref2","id","existingData","newData","setItem","stringify","removeItem","createBudget","_ref3","_fetchData3","name","amount","newItem","crypto","randomUUID","createdAt","Date","now","color","existingBudgets","createExpense","_ref4","_fetchData4","budgetId","existingExpenses","calculateSpentByBudget","_fetchData5","expenses","budgetSpent","reduce","acc","expense","formatDateToLocaleString","epoch","toLocaleDateString","formatPercentage","amt","toLocaleString","undefined","style","minimumFractionDigits","formatCurrency","currency"],"sources":["D:/PROGRAMING/js_kursai/REACT/budget/src/helpers.js"],"sourcesContent":["export const waait = () => new Promise((res) => setTimeout(res, Math.random() * 800))\n\nconst generateRandomColor = () => {\n    const existingBudgetLength = fetchData(\"budgets\")?.length ?? 0;\n    return `${existingBudgetLength * 34} 65% 50%`\n}\n  \n// Local storage\nexport const fetchData = (key) => {\n    return JSON.parse(localStorage.getItem(key));\n};\n\n// Get all items from local storage\nexport const getAllMatchingItems = ({ category, key, value }) => {\n    const data = fetchData(category) ?? [];\n    return data.filter((item) => item[key] === value);\n};\n  \n// delete item from local storage\nexport const deleteItem = ({ key, id }) => {\n    const existingData = fetchData(key);\n    if (id) {\n      const newData = existingData.filter((item) => item.id !== id);\n      return localStorage.setItem(key, JSON.stringify(newData));\n    }\n    return localStorage.removeItem(key);\n};\n\n// create budget\nexport const createBudget = ({\n    name, amount\n}) => {\n    const newItem = {\n        id: crypto.randomUUID(),\n        name: name,\n        createdAt: Date.now(),\n        amount: +amount,\n        color: generateRandomColor()\n    }\n    const existingBudgets = fetchData(\"budgets\") ?? [];\n        return localStorage.setItem(\"budgets\",\n        JSON.stringify([...existingBudgets, newItem]))\n}\n\n// create expense\nexport const createExpense = ({\n    name, amount, budgetId\n  }) => {\n    const newItem = {\n      id: crypto.randomUUID(),\n      name: name,\n      createdAt: Date.now(),\n      amount: +amount,\n      budgetId: budgetId\n    }\n    const existingExpenses = fetchData(\"expenses\") ?? [];\n    return localStorage.setItem(\"expenses\",\n      JSON.stringify([...existingExpenses, newItem]))\n}\n\n// total spent by budget\nexport const calculateSpentByBudget = (budgetId) => {\n    const expenses = fetchData(\"expenses\") ?? [];\n    const budgetSpent = expenses.reduce((acc, expense) => {\n      // check if expense.id === budgetId I passed in\n      if (expense.budgetId !== budgetId) return acc\n  \n      // add the current amount to my total\n      return acc += expense.amount\n    }, 0)\n    return budgetSpent;\n}\n  \n// FORMATTING\nexport const formatDateToLocaleString = (epoch) => new Date(epoch).toLocaleDateString();\n\n// Formating percentages\nexport const formatPercentage = (amt) => {\n    return amt.toLocaleString(undefined, {\n      style: \"percent\",\n      minimumFractionDigits: 0,\n    })\n}\n  \n// Format currency\nexport const formatCurrency = (amt) => {\n    return amt.toLocaleString(undefined, {\n      style: \"currency\",\n      currency: \"EUR\"\n    })\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}