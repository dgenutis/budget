{"ast":null,"code":"import{useEffect,useRef}from\"react\";import{useFetcher}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const AddExpenseForm=_ref=>{let{budgets}=_ref;const fetcher=useFetcher();const isSubmitting=fetcher.state===\"submitting\";const formRef=useRef();const focusRef=useRef();useEffect(()=>{if(!isSubmitting){formRef.current.reset();focusRef.current.focus();}},[isSubmitting]);return/*#__PURE__*/_jsxs(\"div\",{className:\"form-wrapper\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"h3\",children:[\"Add New\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"accent\",children:budgets.length===1&&\"\".concat(budgets.map(budg=>budg.name))}),\" \",\"Expense\"]}),/*#__PURE__*/_jsxs(fetcher.Form,{method:\"post\",className:\"grid-sm\",ref:formRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"expense-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid-xs\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newExpense\",children:\"Expense Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"newExpense\",id:\"newExpense\",placeholder:\"e.g., Coffee\",ref:focusRef,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid-xs\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newExpenseAmount\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",inputMode:\"decimal\",name:\"newExpenseAmount\",id:\"newExpenseAmount\",placeholder:\"e.g., 3.50 \\u20AC\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid-xs\",hidden:budgets.length===1,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newExpenseBudget\",children:\"Budget Category\"}),/*#__PURE__*/_jsx(\"select\",{name:\"newExpenseBudget\",id:\"newExpenseBudget\",required:true,children:budgets.sort((a,b)=>a.createdAt-b.createdAt).map(budget=>{return/*#__PURE__*/_jsx(\"option\",{value:budget.id,children:budget.name},budget.id);})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"_action\",value:\"createExpense\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn--dark\",disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsx(\"span\",{children:\"Submitting\\u2026\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Add Expense\"}),/*#__PURE__*/_jsx(\"svg\",{stroke:\"currentColor\",fill:\"currentColor\",strokeWidth:\"0\",viewBox:\"0 0 1024 1024\",height:\"1em\",width:\"1em\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z\"})})]})})]})]});};export default AddExpenseForm;","map":{"version":3,"names":["useEffect","useRef","useFetcher","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddExpenseForm","_ref","budgets","fetcher","isSubmitting","state","formRef","focusRef","current","reset","focus","className","children","length","concat","map","budg","name","Form","method","ref","htmlFor","type","id","placeholder","required","step","inputMode","hidden","sort","a","b","createdAt","budget","value","disabled","stroke","fill","strokeWidth","viewBox","height","width","xmlns","d"],"sources":["D:/PROGRAMING/js_kursai/REACT/budget/src/components/AddExpenseForm.js"],"sourcesContent":["import { useEffect, useRef } from \"react\"\nimport { useFetcher } from \"react-router-dom\"\n\nconst AddExpenseForm = ({ budgets }) => {\n  const fetcher = useFetcher()\n  const isSubmitting = fetcher.state === \"submitting\";\n\n  const formRef = useRef()\n  const focusRef = useRef()\n\n  useEffect(() => {\n    if (!isSubmitting) {\n      formRef.current.reset()\n      focusRef.current.focus()\n    }\n  }, [isSubmitting])\n\n  return (\n    <div className=\"form-wrapper\">\n      <h2 className=\"h3\">Add New{\" \"}<span className=\"accent\">\n        {budgets.length === 1 && `${budgets.map((budg) => budg.name)}`}\n      </span>{\" \"}\n        Expense\n      </h2>\n      <fetcher.Form method=\"post\" className=\"grid-sm\" ref={formRef}>\n        <div className=\"expense-inputs\">\n          <div className=\"grid-xs\">\n            <label htmlFor=\"newExpense\">Expense Name</label>\n            <input type=\"text\" name=\"newExpense\" id=\"newExpense\"\n              placeholder=\"e.g., Coffee\" ref={focusRef} required />\n          </div>\n          <div className=\"grid-xs\">\n            <label htmlFor=\"newExpenseAmount\">Amount</label>\n            <input type=\"number\" step=\"0.01\" inputMode=\"decimal\" name=\"newExpenseAmount\"\n              id=\"newExpenseAmount\" placeholder=\"e.g., 3.50 €\" required />\n          </div>\n        </div>\n        <div className=\"grid-xs\" hidden={budgets.length === 1}>\n          <label htmlFor=\"newExpenseBudget\">Budget Category</label>\n          <select name=\"newExpenseBudget\" id=\"newExpenseBudget\" required>\n            {budgets\n                .sort((a, b) => a.createdAt - b.createdAt)\n                .map((budget) => {\n                  return (\n                    <option key={budget.id} value={budget.id}>\n                      {budget.name}\n                    </option>\n                  )\n                })\n            }\n          </select>\n        </div>\n        <input type=\"hidden\" name=\"_action\" value=\"createExpense\" />\n        <button type=\"submit\" className=\"btn btn--dark\" disabled={isSubmitting}>\n          {isSubmitting ? <span>Submitting…</span> : (\n              <>\n                <span>Add Expense</span>\n                <svg stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 1024 1024\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z\"></path></svg>\n              </>\n            )\n          }\n        </button>\n      </fetcher.Form>\n    </div>\n  )\n}\nexport default AddExpenseForm"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACzC,OAASC,UAAU,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7C,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CACjC,KAAM,CAAAE,OAAO,CAAGV,UAAU,CAAC,CAAC,CAC5B,KAAM,CAAAW,YAAY,CAAGD,OAAO,CAACE,KAAK,GAAK,YAAY,CAEnD,KAAM,CAAAC,OAAO,CAAGd,MAAM,CAAC,CAAC,CACxB,KAAM,CAAAe,QAAQ,CAAGf,MAAM,CAAC,CAAC,CAEzBD,SAAS,CAAC,IAAM,CACd,GAAI,CAACa,YAAY,CAAE,CACjBE,OAAO,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,CACvBF,QAAQ,CAACC,OAAO,CAACE,KAAK,CAAC,CAAC,CAC1B,CACF,CAAC,CAAE,CAACN,YAAY,CAAC,CAAC,CAElB,mBACEP,KAAA,QAAKc,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3Bf,KAAA,OAAIc,SAAS,CAAC,IAAI,CAAAC,QAAA,EAAC,SAAO,CAAC,GAAG,cAACjB,IAAA,SAAMgB,SAAS,CAAC,QAAQ,CAAAC,QAAA,CACpDV,OAAO,CAACW,MAAM,GAAK,CAAC,KAAAC,MAAA,CAAOZ,OAAO,CAACa,GAAG,CAAEC,IAAI,EAAKA,IAAI,CAACC,IAAI,CAAC,CAAE,CAC1D,CAAC,CAAC,GAAG,CAAC,SAEZ,EAAI,CAAC,cACLpB,KAAA,CAACM,OAAO,CAACe,IAAI,EAACC,MAAM,CAAC,MAAM,CAACR,SAAS,CAAC,SAAS,CAACS,GAAG,CAAEd,OAAQ,CAAAM,QAAA,eAC3Df,KAAA,QAAKc,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7Bf,KAAA,QAAKc,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBjB,IAAA,UAAO0B,OAAO,CAAC,YAAY,CAAAT,QAAA,CAAC,cAAY,CAAO,CAAC,cAChDjB,IAAA,UAAO2B,IAAI,CAAC,MAAM,CAACL,IAAI,CAAC,YAAY,CAACM,EAAE,CAAC,YAAY,CAClDC,WAAW,CAAC,cAAc,CAACJ,GAAG,CAAEb,QAAS,CAACkB,QAAQ,MAAE,CAAC,EACpD,CAAC,cACN5B,KAAA,QAAKc,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBjB,IAAA,UAAO0B,OAAO,CAAC,kBAAkB,CAAAT,QAAA,CAAC,QAAM,CAAO,CAAC,cAChDjB,IAAA,UAAO2B,IAAI,CAAC,QAAQ,CAACI,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,SAAS,CAACV,IAAI,CAAC,kBAAkB,CAC1EM,EAAE,CAAC,kBAAkB,CAACC,WAAW,CAAC,mBAAc,CAACC,QAAQ,MAAE,CAAC,EAC3D,CAAC,EACH,CAAC,cACN5B,KAAA,QAAKc,SAAS,CAAC,SAAS,CAACiB,MAAM,CAAE1B,OAAO,CAACW,MAAM,GAAK,CAAE,CAAAD,QAAA,eACpDjB,IAAA,UAAO0B,OAAO,CAAC,kBAAkB,CAAAT,QAAA,CAAC,iBAAe,CAAO,CAAC,cACzDjB,IAAA,WAAQsB,IAAI,CAAC,kBAAkB,CAACM,EAAE,CAAC,kBAAkB,CAACE,QAAQ,MAAAb,QAAA,CAC3DV,OAAO,CACH2B,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACE,SAAS,CAAGD,CAAC,CAACC,SAAS,CAAC,CACzCjB,GAAG,CAAEkB,MAAM,EAAK,CACf,mBACEtC,IAAA,WAAwBuC,KAAK,CAAED,MAAM,CAACV,EAAG,CAAAX,QAAA,CACtCqB,MAAM,CAAChB,IAAI,EADDgB,MAAM,CAACV,EAEZ,CAAC,CAEb,CAAC,CAAC,CAEA,CAAC,EACN,CAAC,cACN5B,IAAA,UAAO2B,IAAI,CAAC,QAAQ,CAACL,IAAI,CAAC,SAAS,CAACiB,KAAK,CAAC,eAAe,CAAE,CAAC,cAC5DvC,IAAA,WAAQ2B,IAAI,CAAC,QAAQ,CAACX,SAAS,CAAC,eAAe,CAACwB,QAAQ,CAAE/B,YAAa,CAAAQ,QAAA,CACpER,YAAY,cAAGT,IAAA,SAAAiB,QAAA,CAAM,kBAAW,CAAM,CAAC,cACpCf,KAAA,CAAAE,SAAA,EAAAa,QAAA,eACEjB,IAAA,SAAAiB,QAAA,CAAM,aAAW,CAAM,CAAC,cACxBjB,IAAA,QAAKyC,MAAM,CAAC,cAAc,CAACC,IAAI,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,OAAO,CAAC,eAAe,CAACC,MAAM,CAAC,KAAK,CAACC,KAAK,CAAC,KAAK,CAACC,KAAK,CAAC,4BAA4B,CAAA9B,QAAA,cAACjB,IAAA,SAAMgD,CAAC,CAAC,gRAAgR,CAAO,CAAC,CAAK,CAAC,EACzb,CACH,CAEG,CAAC,EACG,CAAC,EACZ,CAAC,CAEV,CAAC,CACD,cAAe,CAAA3C,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}